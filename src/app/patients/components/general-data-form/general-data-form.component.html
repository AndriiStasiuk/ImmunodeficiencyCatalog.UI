<form class="general-data-form" *ngIf="!generalData">

    <mat-grid-list cols="3" rowHeight="4:1">

        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Прізвище" [(ngModel)]="general_data.lastName" name="lastName">
            </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Ім'я" [(ngModel)]="general_data.firstName" name="firstName">
            </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Побатькові" [(ngModel)]="general_data.middleName" name="middleName">
            </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <input matInput [matDatepicker]="myDatePicker" [(ngModel)]="general_data.birthdayDate" [formControl]="serializedDate" name="birthdayDate" placeholder="Дата народження">
                <mat-datepicker-toggle [for]="myDatePicker" matSuffix></mat-datepicker-toggle>
                <mat-datepicker #myDatePicker></mat-datepicker>
            </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <mat-label>Місто народження</mat-label>
                <mat-select [(ngModel)]="general_data.LiveCity" name="cityLive.id">
                    <mat-option *ngFor="let cityLive of cities" [value]="cityLive.id">
                        {{cityLive.cityName}}
                    </mat-option>
                </mat-select>
                <!-- <mat-form-field *ngIf="laboratoryName.viewValue == 'Інше,вказати'" class="example-full-width">
                  <input matInput placeholder="Введіть лабораторію" name="research_lab_enter">
              </mat-form-field> -->
            </mat-form-field>
        </mat-grid-tile>
        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <mat-label>Місто проживання</mat-label>
                <mat-select [(ngModel)]="general_data.CityId" name="city.id">
                    <mat-option *ngFor="let city of cities" [value]="city.id">
                        {{city.cityName}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </mat-grid-tile>
    </mat-grid-list>

    <mat-grid-list cols="3" rowHeight="4:1">
        <mat-grid-tile>
            <div class="radio-group-item, example-full-width">
                <label>Стать:</label>
                <mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group" [(ngModel)]="general_data.sex" name="sex">
                    <mat-radio-button class="example-radio-button" *ngFor="let sex of sexs" [value]="sex" color="primary">
                        {{sex}}
                    </mat-radio-button>
                </mat-radio-group>
            </div>
        </mat-grid-tile>

        <mat-grid-tile>
            <div class="radio-group-item, example-full-width">
                <label>Пацієнт на даний момент живий:</label>
                <mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group" [(ngModel)]="general_data.alive" name="alive">
                    <mat-radio-button class="example-radio-button" *ngFor="let alive of alive_choice" [value]="alive" color="primary">
                        {{alive}}
                    </mat-radio-button>
                </mat-radio-group>
            </div>
        </mat-grid-tile>

        <mat-grid-tile>
            <div class="radio-group-item, example-full-width">
                <label>Згода пацієнта на використання особистої інформації:</label>
                <mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group" [(ngModel)]="general_data.RadiosAgreement" name="radiosAgreement">
                    <mat-radio-button class="example-radio-button" *ngFor="let radiosAgreement of radiosAgreements" [value]="radiosAgreement" color="primary">
                        {{radiosAgreement}}
                    </mat-radio-button>
                </mat-radio-group>
            </div>
        </mat-grid-tile>
    </mat-grid-list>

    <mat-grid-list cols="3" rowHeight="4:3">
        <mat-grid-tile>
            <div class="radio-group-item, example-full-width">
                <label>Генетично ускладнений сімейний анамнез ПІД:</label>
                <mat-radio-group aria-labelledby="example-radio-group-label" class="example-radio-group" [(ngModel)]="general_data.familyTiesPid" name="familyTiesPid">
                    <mat-radio-button class="example-radio-button" *ngFor="let familyTiesPid of familyTiesPids" [value]="familyTiesPid" color="primary">
                        {{familyTiesPid}}
                    </mat-radio-button>
                </mat-radio-group>
            </div>
        </mat-grid-tile>
        <mat-grid-tile>
            <div class="checkbox-group-item radio-group-item example-full-width" *ngIf="general_data.familyTiesPid == 'Так' ">
                <label>Родинні зв'язки ПІД:</label>
                <mat-checkbox color="primary" *ngFor="let esid of esid_select" value="esid.familyTypeMember" (change)="onCheckboxChange(esid,$event)">
                    {{esid.familyTypeMember}}
                    <input matInput *ngIf="esid.checked == true" placeholder="Введіть ESID {{esid.familyTypeMember}}" name="esid">
                </mat-checkbox>
                <div>
                    <mat-form-field>
                        <input matInput placeholder="Введіть esid" [(ngModel)]="familyMember" name="familyMember">
                    </mat-form-field>
                    <mat-icon class="add_box" (click)="addPid()" color="primary">add_box</mat-icon>
                </div>
            </div>
        </mat-grid-tile>
    </mat-grid-list>
</form>


<form class="general-data-form" *ngIf="generalData">

    <mat-grid-list cols="4" rowHeight="4:1">

        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Номер ESID" name="numberRegistration" [value]='generalData.patient.esid' readonly="true">
            </mat-form-field>
        </mat-grid-tile>
        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Прізвище" name="lastName" [value]='generalData.patient.lastName' readonly="true">
            </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Ім'я" name="firstName" [value]='generalData.patient.firstName' readonly="true">
            </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Побатькові" name="middleName" [value]='generalData.patient.middleName' readonly="true">
            </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Чи живий пацієнт на даний момент" name="numberRegistration" [value]='generalData.patient.alive' readonly="true">
            </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Стать" name="sex" [value]='generalData.patient.sex' readonly="true">
            </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Дата народження" name="birthdayDate" [value]='generalData.patient.birthdayDate' readonly="true">
            </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Місто проживання" name="LiveRegion" [value]='generalData.patient.liveCity' readonly="true">
            </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Місто народження" name="LiveRegion" [value]='generalData.patient.cityId' readonly="true">
            </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile>
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Згода пацієнта на використання особистої інформації:" name="familyTiesPid" [value]='generalData.patient.familyTiesPid' readonly="true">
            </mat-form-field>
        </mat-grid-tile>
    </mat-grid-list>

    <mat-grid-list cols="5" rowHeight="5:4">
        <mat-grid-tile>
            <div class="item-group">
                <label>Генетично ускладнений сімейний анамнез ПІД:</label>
                <div *ngFor="let esidModel of generalData.eSIDModels">
                    <mat-form-field class="example-full-width">
                        <input matInput name="familyTypeMember" [value]='esidModel.familyTypeMember+" "+esidModel.esid' readonly="true">
                    </mat-form-field>
                </div>
            </div>
        </mat-grid-tile>
    </mat-grid-list>

</form>